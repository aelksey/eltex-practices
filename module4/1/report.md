## Лабораторная работа №1 *"Освоение инструментария для выполнения работ, построение простой сети"*

### 1) Установить и настроить эмулятор GNS3:

Открываем вкладку Setup Wizard:

![alt text](pictures/1.png)

Выбираем опцию *remote server*:

![alt text](pictures/2.png)

Вводим данные удалённого сервера(хост,порт логин,пароль для аутентификации):

![alt text](pictures/3.png)

Проверка введённых данных:

![alt text](pictures/4.png)

### 2) Создать простейшую сеть, состоящую из 1 коммутатора и 2 компьютеров, назначить им произвольные ip адреса из одной сети

Для построения топологии сети поочередно перетаскиваем из левого окошка устройства(Коммутатор(Layer2 Switch), Компьютер(VPCS)):

![alt text](pictures/5.png)

Для соединения элементов выбрать инструмент Add a Link, затем поочередно от Ethernet первого компьютера провести сооединения до коммутатора, данную операцию повторить для второго компьютера:

![alt text](pictures/6.png)

![alt text](pictures/7.png)

Итоговая топология сети:

![alt text](pictures/8.png)

Для назначения произвольных ip-адресов необходимо изменить файл конфигурации startup.vpc:

![alt text](pictures/9.png)

![alt text](pictures/10.png)

### 3) Запустить симуляцию, выполнить команду ping с одного из компьютеров, используя ip адрес второго компьютера

Запуск симуляции:

![alt text](pictures/11.png)

Выполнение команды ping:

Пинг происходит с *PC1* на *PC2*

#### Текст:

Ввод:

``` 
ping 192.168.1.2  
```

Вывод:

``` 
84 bytes from 192.168.1.2 icmp_seq=1 ttl=64 time=15.649 ms
84 bytes from 192.168.1.2 icmp_seq=2 ttl=64 time=0.680 ms
84 bytes from 192.168.1.2 icmp_seq=3 ttl=64 time=6.234 ms
84 bytes from 192.168.1.2 icmp_seq=4 ttl=64 time=0.549 ms
84 bytes from 192.168.1.2 icmp_seq=5 ttl=64 time=5.338 ms

```

#### Скриншот:

![alt text](pictures/12.png)

### 4) Перехватить трафик протокола arp на всех линках(nb!), задокументировать и проанализировать заголовки пакетов в программе Wireshark, для фильтрации трафика, относящегося к указанному протоколу использовать фильтры Wireshark

#### Захват на линке 1(PC1 Ethernet 0 to Switch Ethernet 0):

![alt text](pictures/wireshark/1.png)

##### Заголовки пакета:

![alt text](pictures/wireshark/2.png)

##### Анализ ARP-запроса

**Источник**: Wireshark (Frame 95)  
**Протокол**: ARP (Address Resolution Protocol)  

##### Общая информация
- **Тип пакета**: ARP-запрос (`request`)  
- **Назначение**: Определение MAC-адреса устройства с известным IP-адресом.  
- **Широковещательная рассылка**: Да (MAC назначения: `ff:ff:ff:ff:ff:ff`).  

##### Заголовок ARP
| Поле               | Значение                          | Описание                          |
|---------------------|-----------------------------------|-----------------------------------|
| **Hardware type**    | Ethernet (1)                      | Тип сети (Ethernet).              |
| **Protocol type**    | IPv4 (`0x0800`)                   | Используемый протокол (IPv4).     |
| **Hardware size**    | 6                                 | Длина MAC-адреса (6 байт).        |
| **Protocol size**    | 4                                 | Длина IP-адреса (4 байта).        |
| **Opcode**          | `request` (1)                     | Тип операции (запрос).            |

##### Адреса
##### Отправитель (Sender)
- **MAC-адрес**: `00:50:79:66:68:01` (Private_66:68:01)  
- **IP-адрес**: `192.168.1.1`  

##### Получатель (Target)
- **MAC-адрес**: `ff:ff:ff:ff:ff:ff` (Broadcast)  
- **IP-адрес**: `192.168.1.2`  

##### Вывод
Устройство `192.168.1.1` ищет MAC-адрес устройства `192.168.1.2`, рассылая ARP-запрос всем узлам сети (`Broadcast`). Ожидается, что устройство с IP `192.168.1.2` ответит, указав свой MAC-адрес.

##### Захват на линке 2(Switch Ethernet 1 to PC2 Ethernet 0 ):

![alt text](pictures/wireshark/3.png)

##### Заголовки пакета:

![alt text](pictures/wireshark/4.png)

##### Анализ ARP-запроса

**Источник**: Wireshark (Frame 47)  
**Протокол**: ARP (Address Resolution Protocol)  

##### Общая информация
- **Тип пакета**: ARP-запрос (`request`)  
- **Назначение**: Определение MAC-адреса устройства с известным IP-адресом (`192.168.1.2`).  
- **Широковещательная рассылка**: Да (MAC назначения: `ff:ff:ff:ff:ff:ff`).  

##### Детали заголовка ARP
| Поле                | Значение                          | Описание                          |
|----------------------|-----------------------------------|-----------------------------------|
| **Hardware type**    | Ethernet (1)                      | Среда передачи — Ethernet.        |
| **Protocol type**    | IPv4 (`0x0800`)                   | Протокол верхнего уровня — IPv4.  |
| **Hardware size**    | 6                                 | Длина MAC-адреса (6 байт).        |
| **Protocol size**    | 4                                 | Длина IP-адреса (4 байта).        |
| **Opcode**           | `request` (1)                     | Тип операции — запрос.            |

##### Адресация
##### Отправитель (Sender)
- **MAC-адрес**: `00:50:79:66:68:01` (Private_66:68:01)  
- **IP-адрес**: `192.168.1.1`  

##### Получатель (Target)
- **MAC-адрес**: `ff:ff:ff:ff:ff:ff` (Broadcast)  
- **IP-адрес**: `192.168.1.2`  

##### Выводы
1. Устройство с IP `192.168.1.1` ищет MAC-адрес для `192.168.1.2`, рассылая **широковещательный ARP-запрос**.
2. Ожидается, что устройство с IP `192.168.1.2` ответит ARP-ответом (`reply`), содержащим свой MAC-адрес.
3. **Особенности**:
   - Пакет отправлен на MAC `ff:ff:ff:ff:ff:ff`, что означает запрос ко всем узлам сети.
   - В поле `Target MAC address` указан broadcast, так как искомый MAC ещё неизвестен.
 
### 5) Создать простейшую сеть, состоящую из 1 маршрутизатора и 2 компьютеров, назначить им произвольные ip адреса из разных сетей

### 6) Запустить симуляцию, выполнить команду ping с одного из компьютеров, используя ip адрес второго компьютера

### 7) Перехватить трафик протокола arp и icmp на всех линках(nb!), задокументировать и проанализировать заголовки пакетов в программе Wireshark, для фильтрации трафика, относящегося к указанному протоколу использовать фильтры Wireshark